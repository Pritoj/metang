(function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};angular.module("metang",[]),angular.module("metang").directive("metang",function(){return{require:"^?metangHead",restrict:"A",scope:{property:"@",name:"@",content:"@"},controller:["$scope","$element","metang",function(t,e,n){t.getMeta=function(){var e,r,i,u,o,a;return this.meta?this.meta:(e={},i="",o="",u=t.property?(i="property",t.property):(i="meta",t.name),a=u.split(":"),a[1]&&(o=a[0],u=a[1]),e[u]=t.content,r=n[i](o,e),this.meta=r[0])},t.$watch("meta.getValue()",function(t){return e.attr("content",t)})}],link:function(t,e,n,r){return r&&r.exclude?r.exclude(t.getMeta().uniqId()):void 0}}}),angular.module("metang").directive("metangHead",["$compile",function(t){return{restrict:"A",scope:!0,controller:["$scope","metang",function(t,e){var n;return n=[],this.exclude=function(t){return n.push(t)},t.getItems=function(){return e.getItems()},t.isRenderItem=function(t){return-1===n.indexOf(t.uniqId())}}],link:function(e,n){var r;return r=t('<meta metang-item="item" ng-repeat="item in getItems()" ng-if="isRenderItem(item)"/>')(e),n.append(r)}}}]),angular.module("metang").directive("metangItem",["$compile",function(t){return{restrict:"A",scope:{item:"=metangItem"},link:function(e,n){var r;return r=t(e.item.template())(e),n.replaceWith(r)}}}]),angular.module("metang").directive("metangTitle",function(){return{require:"^?metangHead",restrict:"A",scope:{part:"@metangTitle"},controller:["$scope","$element","metang",function(t,e,n){var r;r=e.text(),("prefix"===t.part||"suffix"===t.part)&&(r={},r[t.part]=e.text()),t.title=n.title(r),t.$watch("title.getValue()",function(t){return e.text(t)})}],link:function(t,e,n,r){return r&&r.exclude?r.exclude("title"):void 0}}}),angular.module("metang").factory("MetangItemAdapters",function(){var t,n;return t={},n=function(){function t(){this.nameAttr="name"}return t.prototype.getNameAttr=function(){return this.nameAttr},t.prototype.getName=function(){var t;return t=this.name,this.namespace&&(t=this.namespace+":"+t),t},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){return this.value=t},t.prototype.uniqId=function(){return this.nameAttr+this.namespace+this.name},t.prototype.template=function(){return"<meta "+this.nameAttr+'="{{item.getName()}}" content="{{item.getValue()}}">'},t}(),t.Meta=function(t){function n(t,e,r){n.__super__.constructor.call(this),this.name=t,this.namespace=r,this.setValue(e)}return e(n,t),n}(n),t.Property=function(t){function n(t,e,r){n.__super__.constructor.call(this,t,e,r),this.nameAttr="property"}return e(n,t),n}(t.Meta),t.Title=function(){function t(t){angular.extend(this.options,t||{}),this.title=""}return t.prototype.options={separator:" | "},t.prototype.setValue=function(t){return angular.isObject(t)?angular.extend(this.options,t):angular.isString(t)?this.title=t:void 0},t.prototype.getValue=function(){var t;return t=[],this.options.prefix&&t.push(this.options.prefix),this.title&&t.push(this.title),this.options.suffix&&t.push(this.options.suffix),t.join(this.options.separator)},t.prototype.uniqId=function(){return"title"},t.prototype.template=function(){return'<title ng-bing="item.getValue()"></title>'},t}(),t}),angular.module("metang").provider("metang",function(){var t,e,n,r;t={title:{},meta:{},property:{}},e=function(t){var e,n;for(e in t)if(n=t[e],t.hasOwnProperty(e))return!1;return!0},this.title=function(e){return angular.extend(t.title,e)},r=function(e,n,r){return angular.isObject(n)&&(r=n,n=""),t[e][n]||(t[e][n]={}),angular.extend(t[e][n],r)},this.meta=function(t,e){return r("meta",t,e)},this.property=function(t,e){return r("property",t,e)},n=[],this.$get=["$rootScope","MetangItemAdapters",function(i,u){var o,a,p,c,s,l;o={getItems:function(){return n}},p=function(t){var e,r,i;for(r=0,i=n.length;i>r;r++)if(e=n[r],e.uniqId()===t)return e;return!1},o.title=function(t){var e;return e=p("title"),e||(e=new u.Title,e.setValue(t),n.push(e)),e.setValue(t),e},r=function(t,e,r){var i,o,a,c,s;angular.isObject(e)&&(r=e,e=""),c=[];for(o in r)s=r[o],a=new u[t](o,s,e),i=p(a.uniqId()),i?(i.setValue(a.getValue()),c.push(i)):(c.push(a),n.push(a));return c},o.meta=function(t,e){return r("Meta",t,e)},o.property=function(t,e){return r("Property",t,e)},e(t.title)||o.title(t.title),s=t.meta;for(c in s)a=s[c],o.meta(c,a);l=t.property;for(c in l)a=l[c],o.property(c,a);return o}]})}).call(this);